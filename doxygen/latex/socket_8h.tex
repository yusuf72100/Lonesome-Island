\hypertarget{socket_8h}{}\doxysection{Référence du fichier C\+:/\+Users/\+Yusuf/\+Lonesome-\/\+Island/src/socket.h}
\label{socket_8h}\index{C:/Users/Yusuf/Lonesome-\/Island/src/socket.h@{C:/Users/Yusuf/Lonesome-\/Island/src/socket.h}}


Fichier qui contient les informations relatives aux clients et au serveur point de vu socket.  


{\ttfamily \#include $<$unistd.\+h$>$}\newline
{\ttfamily \#include $<$stdio.\+h$>$}\newline
{\ttfamily \#include $<$stdlib.\+h$>$}\newline
{\ttfamily \#include $<$string.\+h$>$}\newline
{\ttfamily \#include $<$winsock2.\+h$>$}\newline
{\ttfamily \#include $<$Ws2ipdef.\+h$>$}\newline
{\ttfamily \#include $<$pthread.\+h$>$}\newline
{\ttfamily \#include $<$stdint.\+h$>$}\newline
{\ttfamily \#include $<$SDL.\+h$>$}\newline
{\ttfamily \#include $<$SDL\+\_\+image.\+h$>$}\newline
{\ttfamily \#include $<$SDL\+\_\+ttf.\+h$>$}\newline
{\ttfamily \#include \char`\"{}defs.\+h\char`\"{}}\newline
Graphe des dépendances par inclusion de socket.\+h\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{socket_8h__incl}
\end{center}
\end{figure}
Ce graphe montre quels fichiers incluent directement ou indirectement ce fichier \+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{socket_8h__dep__incl}
\end{center}
\end{figure}
\doxysubsection*{Structures de données}
\begin{DoxyCompactItemize}
\item 
struct \mbox{\hyperlink{structsocket_datas}{socket\+Datas}}
\begin{DoxyCompactList}\small\item\em Sauvegarde les informations de chaque joueurs relatives au socket et à la connection au serveur (adresse ip, port, données de jeu, socket...). \end{DoxyCompactList}\item 
struct \mbox{\hyperlink{structarg_server}{arg\+Server}}
\begin{DoxyCompactList}\small\item\em Rassemble toutes les données de tous les joueurs dans le but de pouvoir communiquer tout cela dans des threads. \end{DoxyCompactList}\item 
struct \mbox{\hyperlink{structsend2_client}{send2\+Client}}
\begin{DoxyCompactList}\small\item\em Rassemble les données d\textquotesingle{}un seul joueur. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsection*{Macros}
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{socket_8h_a84ac3266d9efb284e798de99c6bd8165}\label{socket_8h_a84ac3266d9efb284e798de99c6bd8165}} 
\#define {\bfseries data\+Len}~5
\end{DoxyCompactItemize}
\doxysubsection*{Définitions de type}
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{socket_8h_a3f5f480bed01f54df564b99350f1d1bb}\label{socket_8h_a3f5f480bed01f54df564b99350f1d1bb}} 
typedef uint32\+\_\+t {\bfseries socklen\+\_\+t}
\item 
\mbox{\Hypertarget{socket_8h_aa66179db696591eb40fed14d270a661d}\label{socket_8h_aa66179db696591eb40fed14d270a661d}} 
typedef struct \mbox{\hyperlink{structsend2_client}{send2\+Client}} {\bfseries send2\+Client}
\begin{DoxyCompactList}\small\item\em Rassemble les données d\textquotesingle{}un seul joueur. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsection*{Fonctions}
\begin{DoxyCompactItemize}
\item 
char $\ast$ \mbox{\hyperlink{socket_8h_acc971d38ba2d98589d00bde6652a6e39}{get\+Local\+Ip}} ()
\begin{DoxyCompactList}\small\item\em Renvoi l\textquotesingle{}ip local du client. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{socket_8h_a10d588931e71363df68940a8dd01b898}\label{socket_8h_a10d588931e71363df68940a8dd01b898}} 
void $\ast$ {\bfseries clear\+Input} (SOCKET socket\+Client)
\item 
static int \mbox{\hyperlink{socket_8h_a49cbd679b22e0661bdc353826c8c5086}{find\+Position}} (\mbox{\hyperlink{structsend2_client}{send2\+Client}} $\ast$arg\+Client)
\begin{DoxyCompactList}\small\item\em Cherche la position du client dans le tableau des clients. \end{DoxyCompactList}\item 
void $\ast$ \mbox{\hyperlink{socket_8h_ad768973bc551435391fa1ddfbb0355a1}{search\+Clients}} (void $\ast$argt)
\begin{DoxyCompactList}\small\item\em Gère la place des clients dans la table de client et reçoit les nouveaux clients. \end{DoxyCompactList}\item 
void $\ast$ \mbox{\hyperlink{socket_8h_a3b61093f2f5316157d1e6d3d05cf5ebc}{receive\+From\+Client}} (void $\ast$arg)
\begin{DoxyCompactList}\small\item\em Écoute un client tant que la connexion est établie. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{socket_8h_af8f7aaaf34db2175c7a9c4ab7d3306fc}\label{socket_8h_af8f7aaaf34db2175c7a9c4ab7d3306fc}} 
static void $\ast$ {\bfseries send\+To\+Client} (\mbox{\hyperlink{structsend2_client}{send2\+Client}} $\ast$arg\+Client, int position)
\item 
void $\ast$ \mbox{\hyperlink{socket_8h_a3490387e86b9ba6a1ee9ed3984b637d5}{start\+Server}} ()
\begin{DoxyCompactList}\small\item\em Démarre le serveur et initie la table de clients. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{socket_8h_ac1e551c19cd6ce8d7da8b13d1f290863}\label{socket_8h_ac1e551c19cd6ce8d7da8b13d1f290863}} 
void {\bfseries stop\+Server} ()
\begin{DoxyCompactList}\small\item\em Arrête le serveur en déconnectant tous les clients d\textquotesingle{}abord. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsection*{Variables}
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{socket_8h_a07e65b6c6f657726ba33df7d15c5037b}\label{socket_8h_a07e65b6c6f657726ba33df7d15c5037b}} 
static pthread\+\_\+t $\ast$ {\bfseries receive\+\_\+from\+\_\+client}
\item 
\mbox{\Hypertarget{socket_8h_a85a10c25e058d41a68a7b526a5d3fed4}\label{socket_8h_a85a10c25e058d41a68a7b526a5d3fed4}} 
static char {\bfseries tram\+Client\+\_\+send} \mbox{[}100\mbox{]}
\item 
\mbox{\Hypertarget{socket_8h_a07ca08cdb87ab3025235c2dad252e007}\label{socket_8h_a07ca08cdb87ab3025235c2dad252e007}} 
static char {\bfseries tram\+Client\+\_\+receive} \mbox{[}100\mbox{]}
\item 
\mbox{\Hypertarget{socket_8h_a4d3f21e6344e01f9aee2f659c02e09cf}\label{socket_8h_a4d3f21e6344e01f9aee2f659c02e09cf}} 
static char {\bfseries recv\+Buffer} \mbox{[}data\+Len\mbox{]}
\item 
\mbox{\Hypertarget{socket_8h_a6f392692ec414375d2aff500177111e2}\label{socket_8h_a6f392692ec414375d2aff500177111e2}} 
static SOCKET {\bfseries socket\+Server}
\item 
\mbox{\Hypertarget{socket_8h_aa1772bcd232124fc8fd97013f40c4310}\label{socket_8h_aa1772bcd232124fc8fd97013f40c4310}} 
static int {\bfseries max\+\_\+player} = 10
\item 
\mbox{\Hypertarget{socket_8h_a1dd51fee32fbf3e84e36516f628100aa}\label{socket_8h_a1dd51fee32fbf3e84e36516f628100aa}} 
static \mbox{\hyperlink{structarg_server}{arg\+Server}} $\ast$ {\bfseries argt} = NULL
\item 
\mbox{\Hypertarget{socket_8h_a91ab69636c829b16d3ac9011dcf09fac}\label{socket_8h_a91ab69636c829b16d3ac9011dcf09fac}} 
static \mbox{\hyperlink{structsend2_client}{send2\+Client}} $\ast$ {\bfseries arg\+Client} = NULL
\end{DoxyCompactItemize}


\doxysubsection{Description détaillée}
Fichier qui contient les informations relatives aux clients et au serveur point de vu socket. 

\begin{DoxyAuthor}{Auteur}
Yusuf Ulas 
\end{DoxyAuthor}
\begin{DoxyVersion}{Version}
0.\+1 
\end{DoxyVersion}
\begin{DoxyDate}{Date}
2023-\/01-\/31 
\end{DoxyDate}
\begin{DoxyCopyright}{Copyright}
Copyright (c) 2023 
\end{DoxyCopyright}


\doxysubsection{Documentation des fonctions}
\mbox{\Hypertarget{socket_8h_a49cbd679b22e0661bdc353826c8c5086}\label{socket_8h_a49cbd679b22e0661bdc353826c8c5086}} 
\index{socket.h@{socket.h}!findPosition@{findPosition}}
\index{findPosition@{findPosition}!socket.h@{socket.h}}
\doxysubsubsection{\texorpdfstring{findPosition()}{findPosition()}}
{\footnotesize\ttfamily static int find\+Position (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structsend2_client}{send2\+Client}} $\ast$}]{arg\+Client }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}



Cherche la position du client dans le tableau des clients. 


\begin{DoxyParams}{Paramètres}
{\em arg\+Client} & \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Renvoie}
int 
\end{DoxyReturn}
Voici le graphe des appelants de cette fonction \+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{socket_8h_a49cbd679b22e0661bdc353826c8c5086_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{socket_8h_acc971d38ba2d98589d00bde6652a6e39}\label{socket_8h_acc971d38ba2d98589d00bde6652a6e39}} 
\index{socket.h@{socket.h}!getLocalIp@{getLocalIp}}
\index{getLocalIp@{getLocalIp}!socket.h@{socket.h}}
\doxysubsubsection{\texorpdfstring{getLocalIp()}{getLocalIp()}}
{\footnotesize\ttfamily char $\ast$ get\+Local\+Ip (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Renvoi l\textquotesingle{}ip local du client. 

\begin{DoxyReturn}{Renvoie}
char$\ast$ 
\end{DoxyReturn}
Voici le graphe des appelants de cette fonction \+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{socket_8h_acc971d38ba2d98589d00bde6652a6e39_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{socket_8h_a3b61093f2f5316157d1e6d3d05cf5ebc}\label{socket_8h_a3b61093f2f5316157d1e6d3d05cf5ebc}} 
\index{socket.h@{socket.h}!receiveFromClient@{receiveFromClient}}
\index{receiveFromClient@{receiveFromClient}!socket.h@{socket.h}}
\doxysubsubsection{\texorpdfstring{receiveFromClient()}{receiveFromClient()}}
{\footnotesize\ttfamily void $\ast$ receive\+From\+Client (\begin{DoxyParamCaption}\item[{void $\ast$}]{arg }\end{DoxyParamCaption})}



Écoute un client tant que la connexion est établie. 

(se lance dans un thread)


\begin{DoxyParams}{Paramètres}
{\em arg} & \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Renvoie}
void$\ast$ 
\end{DoxyReturn}
Voici le graphe d\textquotesingle{}appel pour cette fonction \+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{socket_8h_a3b61093f2f5316157d1e6d3d05cf5ebc_cgraph}
\end{center}
\end{figure}
Voici le graphe des appelants de cette fonction \+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{socket_8h_a3b61093f2f5316157d1e6d3d05cf5ebc_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{socket_8h_ad768973bc551435391fa1ddfbb0355a1}\label{socket_8h_ad768973bc551435391fa1ddfbb0355a1}} 
\index{socket.h@{socket.h}!searchClients@{searchClients}}
\index{searchClients@{searchClients}!socket.h@{socket.h}}
\doxysubsubsection{\texorpdfstring{searchClients()}{searchClients()}}
{\footnotesize\ttfamily void $\ast$ search\+Clients (\begin{DoxyParamCaption}\item[{void $\ast$}]{arg }\end{DoxyParamCaption})}



Gère la place des clients dans la table de client et reçoit les nouveaux clients. 

(se lance dans un sous-\/thread)


\begin{DoxyParams}{Paramètres}
{\em arg} & \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Renvoie}
void$\ast$ 
\end{DoxyReturn}
Voici le graphe d\textquotesingle{}appel pour cette fonction \+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{socket_8h_ad768973bc551435391fa1ddfbb0355a1_cgraph}
\end{center}
\end{figure}
Voici le graphe des appelants de cette fonction \+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{socket_8h_ad768973bc551435391fa1ddfbb0355a1_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{socket_8h_a3490387e86b9ba6a1ee9ed3984b637d5}\label{socket_8h_a3490387e86b9ba6a1ee9ed3984b637d5}} 
\index{socket.h@{socket.h}!startServer@{startServer}}
\index{startServer@{startServer}!socket.h@{socket.h}}
\doxysubsubsection{\texorpdfstring{startServer()}{startServer()}}
{\footnotesize\ttfamily void $\ast$ start\+Server (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Démarre le serveur et initie la table de clients. 

(se lance dans un thread)

\begin{DoxyReturn}{Renvoie}
void$\ast$ 
\end{DoxyReturn}
Voici le graphe d\textquotesingle{}appel pour cette fonction \+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{socket_8h_a3490387e86b9ba6a1ee9ed3984b637d5_cgraph}
\end{center}
\end{figure}
Voici le graphe des appelants de cette fonction \+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=309pt]{socket_8h_a3490387e86b9ba6a1ee9ed3984b637d5_icgraph}
\end{center}
\end{figure}
